{% extends "layout.html" %}
{% load staticfiles %}

{% block title_tag %}Edit {{ form.username }} Details | {{ block.super }}{% endblock %}
{% block body %}
  <div class="circle--actions--bar">
    <nav class="bounds">
      <ul class="circle--pill--list">
        <li><a href="{% url 'accounts:applications' pk=user.id %}">Applications</a></li>
        <li><a class="selected" href="{% url 'accounts:details' pk=user.id %}">Profile</a></li>
      </ul>
    </nav>
  </div>
  <form method="POST" enctype="multipart/form-data" action="{% url 'accounts:edit' pk=user.id %}" id="profile">
    {% csrf_token %}
	{% comment %}{{ form }}{% endcomment %}
	  <div class="bounds circle--page">
		<div class="circle--page--header circle--fluid">
		  <div class="circle--fluid--cell circle--fluid--primary">
			<h2>Profile</h2>
		  </div>
		  <div class="circle--fluid--cell circle--fluid--secondary">
			<button type="submit" class="button button-primary" form="profile" action="">Save Changes</button>
		  </div>
		</div>
		<div class="grid-70">
		  <!-- FORM display_name field -->
		  {{ form.display_name.errors }}
		  {{ form.display_name.help_text }}
		  {{ form.display_name }}
		  <!-- Put html below in display_name widget options -->
		  {% comment %}<input type="text" placeholder="{{ form.display_name }}" value="{{ form.display_name }}" class="circle--input--h1" form="profile">{% endcomment %}
		  <div class="circle--article--body">
			<!-- FORM bio field -->{{ form.bio.help_text }}{{ form.bio }}{% comment %}<textarea placeholder="{{ form.bio }}" form="profile">{{ form.bio }}</textarea>{% endcomment %}
		  </div>
		  {% comment %}
		  <h2>Past Projects</h2>
		  <table class="u-full-width circle--table">
			<thead>
			  <tr>
				<th>Project Title</th>
				<th class="circle--cell--right">Project Needs</th>
			  </tr>
			</thead>
			<tbody>
			  {% for project in user.projects %}
			  <tr class="clickable-row" data-href="{% url 'projects:details' pk=project.id %}" target="_blank">
				<td>
				  <h3>{{ user.project.name }}</h3>
				</td>
				<td class="circle--cell--right">
				  <span class="secondary-label">{% for position in project.positions %}{{ position.name }}<br>{% endfor %}</span>
				</td>
			  </tr>
			  {% endfor %}
			</tbody>
		  </table>
		  {% endcomment %}
		</div>

		<div class="grid-25 grid-push-5">

		  <div class="circle--secondary--module">
			<div class="circle--primary--avatar">
				{{ form.avatar }}<br>Upload Photo
			  <!-- <a class="button">
				Upload Photo
				<input type="file">
			  </a> -->
			</div>
		  </div>
		  {% comment %}
		  <div class="circle--secondary--module">
			<h4>My Skills</h4>
			<ul class="circle--clone--list">
			{{ formset.management_form }}

			{% for skill in formset %}
			  <li class="link-formset">
			    {{ skill.name }}
				{{ skill.id }}
				{% if skill.name.errors %}
					{% for error in skill.name.errors %}
						{{ error|escape }}
					{% endfor %}
				{% endif %}
				<a class="circle--clone--add">Add Skill</a>
				<a class="circle--clone--remove">Remove</a>

				<!---------------------------------
				<input type="text" placeholder="django.skill.name" form="profile" />
				<a class="circle--clone--add">Add Skill</a>
				<a class="circle--clone--remove">Remove</a>
				------------------------------------------------>

			  </li>
			{% endfor %}
			</ul>
			{% if formset.non_form_errors %}
				{% for error in formset.non_form_errors %}
					{{ error|escape }}
				{% endfor %}
			{% endif %}
			
		  </div>
		  {% endcomment %}
			<!-- HIDE PROJECTS LIST FOR NOW #############################
		  <div class="circle--secondary--module">
			<h4>My Projects</h4>
			<ul class="circle--clone--list">
			  <li>
				<input type="text" placeholder="Project Name" />
				<input type="text" placeholder="Project URL" />
				<a class="circle--clone--add">Add Project</a>
				<a class="circle--clone--remove">Remove</a>
			  </li>
			</ul>

		  </div>
			################################################################-->
		</div>

	  </div>
  </form>
  {{ form.media }}
  {% comment %}
  <!-- 
  <script>
    $('.link-formset').formset({
        addText: 'add link',
        deleteText: 'remove'
    });
  </script>  -->
  {% endcomment %}
{% endblock %}